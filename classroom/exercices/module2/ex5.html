<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Manipulando a DOM</title>
</head>
<body>
    <h1>Exercicio 5 - DESAFIO</h1>
    <div id="app">
		<button onClick="sortListName(users)">Ordenar por nome</button>
		<button onClick="sortListAge(users)">Ordenar por idade</button>
		
		<button onClick="sortListMan(users)">Exibir apenas homens</button>
		<button onClick="sortListWom(users)">Exibir apenas mulheres</button>
		<button onClick="geraLista(users);">Exibir todos</button>
		
	</div>
    
    <script>
		var users = [
			{
				nome: 'Diego',
				idade: 23,
				sexo: 'M',
			},
			{
				nome: 'Gabriela',
				idade: 18,
				sexo: 'F',
			},
			{
				nome: 'José',
				idade: 30,
				sexo: 'M',
			},
			{
				nome: 'Maria',
				idade: 27,
				sexo: 'F',
			}
		];

		//verifica sexo retorna string completa
		function verificaSexo(sexo){
			if (sexo === 'M') return 'Masculino';
			if (sexo === 'F') return 'Feminino';
			else return 'Indefinido';
		}

		//gera lista
		function geraLista(list){
			var lista = list;
			var removeLista = document.getElementById('lista');
			if (removeLista != null) removeLista.remove(); 
			var boxElement = document.createElement('ul');
			boxElement.setAttribute('id', 'lista');
			lista.forEach(function(element, index){
				var listElement;
				var content = document.createTextNode(element.nome + ' é ' +  verificaSexo(element.sexo) +' e possui ' + element.idade +' anos');
				listElement = document.createElement('li');
				listElement.appendChild(content);
				boxElement.appendChild(listElement);
				//console.log(element);
			});
		
			var appElement = document.querySelector('div#app');
			appElement.appendChild(boxElement);
		}
		//ordena por idade
		function sortListAge(list){
			var lista = list;
			//console.log(lista)
			lista.sort(function(a,b) {
    			if(a.idade < b.idade) return -1;
    			if(a.idade > b.idade) return 1;
    			return 0;
			});
			//console.log(lista)
			geraLista(lista);
		}

		//ordena por nome
		function sortListName(list){
			var lista = list;
			//console.log(lista)
			lista.sort(function(a,b) {
    			if(a.nome < b.nome) return -1;
    			if(a.nome > b.nome) return 1;
    			return 0;
			});
			//console.log(lista)
			geraLista(lista);
		}

		//filtra homens
		function sortListMan(list){
			var listaInteira = list;
			var lista = [];
			listaInteira.forEach(function(element, index){
				if (element.sexo === 'M') lista.push(element);
				//console.log(element);
			});
			lista.sort(function(a,b) {
    			if(a.nome < b.nome) return -1;
    			if(a.nome > b.nome) return 1;
    			return 0;
			});
			//console.log(lista)
			geraLista(lista);
		}

		//filtra mulheres
		function sortListWom(list){
			var listaInteira = users;
			var lista = [];
			listaInteira.forEach(function(element, index){
				if (element.sexo === 'F') lista.push(element);
				//console.log(element);
			});
			lista.sort(function(a,b) {
    			if(a.nome < b.nome) return -1;
    			if(a.nome > b.nome) return 1;
    			return 0;
			});
			//console.log(lista)
			geraLista(lista);
		}
		
		geraLista(users);

    </script>
</body>
</html>
